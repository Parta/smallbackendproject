SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;


CREATE TABLE IF NOT EXISTS `FacebookFanCounts` (
  `id` int(11) NOT NULL,
  `id_page` int(11) DEFAULT NULL,
  `value` int(11) NOT NULL,
  `date` datetime NOT NULL
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

INSERT INTO `FacebookFanCounts` (`id`, `id_page`, `value`, `date`) VALUES
(3, 1, 105874699, '2017-10-15 17:04:54'),
(4, 1, 105874765, '2017-10-15 17:11:54'),
(5, 1, 105874765, '2017-10-15 17:12:23'),
(6, 1, 105874759, '2017-10-15 17:13:12'),
(7, 1, 105874759, '2017-10-15 17:13:19'),
(8, 1, 105876059, '2017-10-15 23:14:23'),
(9, 1, 105876132, '2017-10-15 23:28:54'),
(10, 1, 105876385, '2017-10-15 23:55:28'),
(11, 2, 37335896, '2017-10-16 00:15:59'),
(12, 1, 105876962, '2017-10-16 00:37:32');

CREATE TABLE IF NOT EXISTS `FacebookPages` (
  `id` int(11) NOT NULL,
  `path` varchar(255) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

INSERT INTO `FacebookPages` (`id`, `path`) VALUES
(1, 'cocacola'),
(2, 'pepsi');

CREATE TABLE IF NOT EXISTS `TwitterFanCounts` (
  `id` int(11) NOT NULL,
  `id_page` int(11) DEFAULT NULL,
  `value` int(11) NOT NULL,
  `date` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

CREATE TABLE IF NOT EXISTS `TwitterPages` (
  `id` int(11) NOT NULL,
  `path` varchar(255) COLLATE utf8_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


ALTER TABLE `FacebookFanCounts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `IDX_45D2AF229F2AAA22` (`id_page`);

ALTER TABLE `FacebookPages`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `UNIQ_1C17F252B548B0F` (`path`);

ALTER TABLE `TwitterFanCounts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `IDX_A522F6919F2AAA22` (`id_page`);

ALTER TABLE `TwitterPages`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `UNIQ_83E53081B548B0F` (`path`);


ALTER TABLE `FacebookFanCounts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=13;
ALTER TABLE `FacebookPages`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT=3;
ALTER TABLE `TwitterFanCounts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;
ALTER TABLE `TwitterPages`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

ALTER TABLE `FacebookFanCounts`
  ADD CONSTRAINT `FK_45D2AF229F2AAA22` FOREIGN KEY (`id_page`) REFERENCES `FacebookPages` (`id`);

ALTER TABLE `TwitterFanCounts`
  ADD CONSTRAINT `FK_A522F6919F2AAA22` FOREIGN KEY (`id_page`) REFERENCES `TwitterPages` (`id`);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
